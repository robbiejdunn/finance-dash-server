# finance-dash-server

Investment portfolio tracking single page web application. Uses React with a materialui (mui) design, and deploys to AWS using CDK IaC.

[![Push](https://github.com/robbiejdunn/finance-dash-server/actions/workflows/push.yml/badge.svg)](https://github.com/robbiejdunn/finance-dash-server/actions/workflows/push.yml)

## Usage

### AWS deployment

Bootstrap AWS if not done already:

`cdk bootstrap`

Run the deploy script from the project root, you will be prompted to 
provide the deploy type ("b" for only deploying backend stack, "f" for
only deploying frontend stack, or "a" for deploying all stacks):

`scripts/deploy.sh`

### Local development

Test backend lambdas by either deploying backend stack and invoking 
via react UI or with AWS SAM.

For frontend development, use the start.sh script to run the react app 
locally while using AWS backend endpoints (this will fail if the backend 
stack is not already deployed):

`scripts/start.sh`

The react app UI will then be available at localhost:3000.

### Database debugging interface

To debug the RDS postgres instance you can use pgadmin e.g. with docker:

`docker run -p 80:80 -e 'PGADMIN_DEFAULT_EMAIL=admin@admin.com' -e 'PGADMIN_DEFAULT_PASSWORD=admin' dpage/pgadmin4:latest`

The pgadmin web interface can then be accessed from localhost:80. After 
logging in with username admin@admin.com and password admin, a connection 
to the RDS postgres instance can be made based on connection details found 
in the AWS secret generated by the backend deployment.
